<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>PayPal's open source approach to accessibility</title>

		<meta name="description" content="Intuit Accessiblity week 2015 - PayPal's open source approach to accessibility">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="reveal.js/css/reveal.css">
		<link rel="stylesheet" href="css/paypal.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="reveal.js/lib/css/histyles/tomorrow-night-blue.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="reveal.js/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal" role="application" aria-label="Press left or right arrow to navigate the slides">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>PayPal's open source approach to accessibility</h1>
					<br>
					<p>
						<small>  Nawaz <a href="http://twitter.com/paypalinclusive">@PayPalInclusive</a>
						</small>
					</p>
				</section>

				<section>
					<h2>Accessibility world needs open source and vice versa</h2>
					<ul>
						<li>
							People with Disability constantly lookout for better software to access outer world
						</li>
						<li>
							More inaccessible libraries with growth of Opensource (NodeJS, gitHub etc.) <br><br>
							More info : Article on  <a href="http://opensource.com/life/15/2/why-open-source-needs-accessibility-standards"> why open source needs Accessibility standards</a>
					</li>
					<li>
						Currently there are a very small number of like minded people who contribute. BUT We Need more...
					</li>					
					</ul>
				</section>

				<section>
					<h2>Innovate-Adapt-Evolve</h2>
					<h3>A walk-through of our Innovation Journey:</h3>
					<p>
						<ol>
							<li  class="fragment roll-in">SkipTo Plug-in</li>
							<li  class="fragment roll-in">Bootstrap Plug-in</li>							
							<li  class="fragment roll-in">amCharts Plug-in</li>
							<li  class="fragment roll-in">Accessible HTML5 Video Player</li>
							<li  class="fragment roll-in">AATT (Automated Accessibility Testing Tool)</li>
						</ol>					
					</p>
				</section>
				
				<section>
					<h2>Skip Navigation Links</h2>
					<ul>
						<li  class="fragment roll-in">Are a way to Bypass Blocks of (repeated) content (WCAG 2.4)</li>
						<li  class="fragment roll-in">Without using this link</li>
							<ul>
								<li  class="fragment roll-in">Keyboard user needs to tab through approximately 40 links to reach the main story</li>
								<li  class="fragment roll-in">Screen reader user have to listen to 200 words</li>
								<li  class="fragment roll-in">Screen magnifier user must search around for the location of the main body</li>
							</ul>	
					</ul>	
				</section>
				<section>
					<h2>Classical Skipto</h2>
					<img  height="399" src="../imgs/IntuitOct2015/classical_skipto.png" alt="Classical image of skip to main content on webAim website">
					<p>
						It has been their for a quiet long time...........
					</p>
				</section>				
				
				<section>
					<h2>SkipTo Plugin</h2>
					<a href="https://github.com/paypal/skipto">https://github.com/paypal/skipto</a>
					<ul>
						<li  class="fragment roll-in">Replacement for your old classic &ldquo;Skip to main content&rdquo; link</li>
						<li  class="fragment roll-in">Scans the  full page for 
							<ul>
								<li> Heading (e.g h1, h2, h3 and h4 elements)</li>
								<li> ARIA landmarks (e.g. banner, navigation, main and search)</li>
								<li> HTML5 Section Elements (e.g. main, section[aria-label], section[aria-labelledby] </li>
								<li>Any element with the id specified via the configuration file.</li>
								<li> Any element with the custom class specified via the configuration file.</li>
							</ul>	
						<li  class="fragment roll-in">Displays as a nice Menu Button</li>
						<li  class="fragment roll-in">Screen Readers announce it as &ldquo;SkipTo menu Collapsed&rdquo; </li>
					</ul>	
				</section>
				<section>
					<h2>SkipTo Plugin</h2>
					<a class="image" href="http://fae20.cita.illinois.edu/#" target="_blank">
						<img height="399" src="../imgs/IntuitOct2015/new_skipto.png" alt="Screen Shot of SkipTo in expanded state">
					</a>
				</section>
				<section>
					<h2>SkipTo Plugin - How to implement</h2>
					<p> Just add the JavaScript plugin to your  HTML file</p>
					<pre><code data-trim contenteditable style="font-size: 16px; margin-top: 20px;">
						<script type="text/javascript" src="http://paypal.github.io/SkipTo/downloads/js/Skipto.min.js"></script>
					</code></pre>
				</section>					
				
				<section>					
					<h2> SkipTo Plugin - How to Configure </h2>
<pre><code data-trim contenteditable style="font-size: 18px; margin-top: 20px;">					
<script>
var SkipToConfig =
{
    "settings": {
        "skipTo": {
            "headings"     : "h1, h2, h3, h4",
            "main"         : "main, [role=main]",
            "landmarks"    : "[role=navigation], [role=search]",
            "sections"     : "nav",
            "ids"          : "#SkipToA1, #SkipToA2",
            "customClass"  : "MyClass",
            "accesskey"    : "0",
            "wrap"         : "true",
            "visibility"   : "onfocus",
            "attachElement": ".MyCustomClass" // or "attachElement": "#MyCustomId"
        }
    }
};
</script>
				</code></pre>
				<p>
					Also available as <a href="http://wordpress.org/plugins/skip-to/">Wordpress </a> and <a href="https://drupal.org/project/SkipTo">Drupal</a> plugins
				</p>	
				</section>		

				<section>
					<h2>Bootstrap Plugin</h2>
					<a href="https://github.com/paypal/bootstrap-accessibility-plugin">https://github.com/paypal/bootstrap-accessibility-plugin</a>
					<h3 class="fragment roll-in">Pros</h3>
					<ul>
						<li class="fragment roll-in"> Makes many of the components of Bootstrap library accessible for keyboard and screen reader users </li>
						<li class="fragment roll-in"> Experiment with Bootstrap without having to modify the original code </li>
						<li class="fragment roll-in"> Independent of Bootstrap's release timeliness </li>
						<li class="fragment roll-in"> Avoid other people having to hack Bootstrap code if they just want to get accessibility features </li>
					</ul>
					<h3 class="fragment roll-in">Cons</h3>
					<ul>
						<li class="fragment roll-in">Another JavaScript file and CSS files need to be loaded on the page (but wait! you can Lazy Load) </li>
					</ul>
				</section>

				<section>
					<h2>Bootstrap Plugin - How to implement</h2>
					<ul>
						<li>Download and include Bootstrap.js from <a href="http://getbootstrap.com/">getbootstrap.com</a>.</li>
						<li>Download and include the <a href="https://github.com/paypal/bootstrap-accessibility-plugin/blob/master/plugins/js">bootstrap accessibility plugin js</a>.</li>
						<li>Download and include the <a href="https://github.com/paypal/bootstrap-accessibility-plugin/blob/master/plugins/css">bootstrap accessibility plugin css </a> to override css styles</li>
						<li>Optional: Lazily load the JavaScript plugin after the page is loaded.</li>
					</ul>
					<p>GITHUB Repo : <a href="https://github.com/paypal/bootstrap-accessibility-plugin/">https://github.com/paypal/bootstrap-accessibility-plugin/ </a></p>
					<p>Demo :
						<a href="http://paypal.github.io/bootstrap-accessibility-plugin/demo.html">http://paypal.github.io/bootstrap-accessibility-plugin/demo.html</a>
					</p>
					<p> 
						Bootstrap 3.3.5 is lot more accessible. Thanks to <a href="https://github.com/orgs/twbs/people"> Patrick H. Lauke</a>
					</p>
				</section>	
				<section>
					<h2> <u>P.S.</u></h2>
					<ul>
					<li> Bootstrap is just an famous example we picked up </li>
					<li> There are lot more open source projects in the wild wild web which are used in many websites and making those sites even more inaccessible </li>
					<li> SOS </li>
				</section>
				
				<section>
					<h2>amCharts Plugin</h2>
					<a href="https://github.com/paypal/amcharts-accessibility-plugin">https://github.com/paypal/amcharts-accessibility-plugin</a>
					<ul>
						<li> Example for making Interactive charts accessible </li>
						<li> SVG Accessibility</li>
					</ul>
				</section>

				<section>
					<h2>Classical Chart Accessiblty</h2>
					<p>
					<ul>
						<li>Chart data duplicated in a table and hidden off-screen</li>
						<li><a href="http://www.w3.org/TR/html-alt-techniques/#sec2.5">Alt text</a></li>
						<li><a href="http://blog.ginader.de/dev/jquery/longdesc/examples/webaim/index.php">LongDesc Attribute </a></li>
					</ul>	
					</p>
				</section>	
				<section>
					<h2>Problems with usual ways</h2>
					<ul>
						<li> Data is duplicated as in a hidden table</li>
						<li> Too much text to describe the chart </li>
						<li> Only Basic textual information available to Screen reader users</li>
						<li> Lot of  maintenance </li>
					</ul>
				</section>	
				<section>
					<h2>amCharts accessibility Plugin (Interactivity)</h2>
					<h3>For keyboard users</h3>
					<ul>
						<li> Can navigate with Left and Right arrow keys</li>
						<li> Cursor tooltip is shown when the arrow keys are pressed </li>
						<li> Tab key to navigate within chart, left and right sliders</li>
						<li> Applies aria-label, aria-valuemin, aria-valuemax, aria-valuetext and aria-valuenow for left and right sliders</li>
					</ul>
				</section>	

				<section>
					<h2>amCharts accessibility Plugin</h2>
					<h3> For Screen Readers </h3>
					<ul>
						<li> Applies role of Application to the chart</li>
						<li> Creates a hidden status Div to announce the Tooltips displayed</li>
						<li> Announces the slider and the value selected using slider</li>
					</ul>
				</section>	

					<section>
					<h2>amCharts accessibility Plugin - How to implement</h2>
					<pre><code data-trim contenteditable style="font-size: 16px; margin-top: 20px;">
<script src="http://www.amcharts.com/lib/amstock.js" type="text/javascript"></script>
<script src="/js/plugins/amstock-accessibility.js" type="text/javascript"></script>
					</code></pre>	
					<p> <a href="http://paypal.github.io/amcharts-accessibility-plugin/demo.html">Play with Demo </a> </p>
				</section>
				<section>
					<h2>amCharts accessibility Plugin - Demo</h2>
					<video controls="controls" width="700" height="500" name="Video Name" src="../imgs/IntuitOct2015/SR_amChartsAccessibility_x264.mp4"></video>
				</section>	

				<section>
					<h2>Accessible HTML5 Video Player</h2>
					<a href="https://github.com/paypal/accessible-html5-video-player">https://github.com/paypal/accessible-html5-video-player</a>
					<ul>
						<li> Supports VTT caption file </li>
						<li> Uses native HTML5 form controls for volume (range input) and progress indication (progress element). </li>
						<li> Accessible to keyboard-only users and screen reader users.</li>
						<li> Option to set captions on or off</li>
						<li> Option to set number of seconds to rewind and forward. </li>
						<li> width adjusts to width of video element.</li>
						<li> Written in "vanilla" JavaScript.</li>
					</ul>	
				</section>
				<section>
					<h2>Accessible HTML5 Video Player</h2>
						<img  height="399" src="../imgs/IntuitOct2015/html5_player.png" alt="Screenshot of HTML5 player">
						<p> <a href="http://paypal.github.io/accessible-html5-video-player/">Demo </a> </p>
				</section>	
				
				<section>
					<h2>Automated Accessibility Testing Tool (AATT) </h2>
					<a href="https://github.com/paypal/AATT">https://github.com/paypal/AATT</a>
					<p>To find out Frequent Accessibility Errors </p>
					<ul>	
						<li> Missing alt attributes for images </li>
						<li> Missing explicit relationships between form fields and their labels </li>
						<li> Tables without headers or without explicit relationships between header cells and data cells </li>
						<li> Use of deprecated, presentational elements and attributes </li>
						<li> Events bound to items that are not discoverable via keyboard </li>
						<li> Poor color contrast</li>
						<li> Blank link text </li>
					</ul>	
				</section>
				<section>
					<h1>AATT - Why?</h1>
					<ul>
						<li> Plenty of tools for free tool testing</li>
						<li> Mostly in form of Browser toolbars - Test page by page </li>
						<li> API outside of company and would not suit our requirements</li>
					</ul>
				</section>
				<section>
					<h1>AATT - What?</h1>
					<ul>
						<li> A tool within Corporate network to test page by page  </li>
						<li> Serves an API which accepts html "source" and returns back errors </li>
						<li> Integrates easily with our existing testing framework, we did it with Java, NodeJS testing suite
						</li>
						<li> Made of NodeJS + Phantom JS (headless WebKit browser) + Selenium Webdriver</li>
					</ul>
				</section>
				<section>
					<h2>AATT  - Overview</h2>
						<img  height="399" src="../imgs/IntuitOct2015/AATT.png" alt="Low Level Diagram of Accessibility Testing Tool">
				</section>					
				
				<section>
					<h1>AATT - Options</h1>
					<ul>
						<li> "source" to send the HTML source of the page. Can be a whole page or partial page source </li>
						<li> "priority" to fetch results based on issue priorities like P1, P2, P3 or P4. </li>
						<li> "engine" htmlcs, chrome, axe  ( Can add more) </li>
					</ul>
				</section>
				<section>					
					<h2> AAT- SNIFF URL </h2>
<pre><code data-trim contenteditable style="font-size: 18px; margin-top: 20px;">				
	app.post('/sniffURL', function(req, res) {
 		var childArgs
 		, userName = ''
 		, d = new Date()
        , customDateString = d.getHours() +'_'  + d.getMinutes() + '_' + d.getSeconds() +'_'+ d.getMonth() + '_' + d.getDate() + '_' + d.getFullYear()
        , dirName = "screenshots/" + customDateString
        , scrshot = req.body.scrshot
        , msgErr = req.body.msgErr
        , msgWarn = req.body.msgWarn
        , msgNotice = req.body.msgNotice
    	, eLevel=[]

    	if(typeof msgErr !== 'undefined' && msgErr=='true') eLevel.push(1);
    	if(typeof msgWarn !== 'undefined' && msgWarn=='true') eLevel.push(2);
    	if(typeof msgNotice !== 'undefined' && msgNotice=='true') eLevel.push(3);

    	//Default to Error
		if(typeof msgErr === 'undefined' &&  typeof msgWarn === 'undefined' && typeof msgNotice === 'undefined') eLevel.push(1);

		fs.mkdirSync(dirName);		//Create SCREEN SHOT DIRECTORY
		if (typeof req.session.userName !== 'undefined') {
			userName = req.session.userName;
			log('Testing logged in session: -> ', userName)
		}
		childArgs = ['--config=config/config.json', path.join(__dirname, 'src/PAET.js')
						, req.body.textURL
						, 'WCAG2AA'
						, userName
						, dirName
						, scrshot
						, eLevel
					];
		childProcess.execFile(binPath, childArgs, function(err, stdout, stderr) {
			res.json({ userName: userName, data: stdout });
			log(stdout);
		});
	});
</code></pre></section>
				<section>					
					<h2> AAT- API </h2>
<pre><code data-trim contenteditable style="font-size: 18px; margin-top: 20px;">				
	app.post('/evaluate', function(req, res) {
		var tempFilename = 'tmp/'+ new Date().getTime() + '.html';

		var priority = req.body.priority;	// Piority Eg P1,P2,P3,P4  	default:all
		var output = req.body.output;		// Eg. json, string  		default: string
		var engine	= req.body.engine;		//Eg htmlcs, chrome 		default:htmlcs

		if(typeof priority === 'undefined' || priority ==='') priority = 'P1,P2,P3,P4';
		if(typeof output === 'undefined' || output ==='') output = 'string';
		var childArgs = ['--config=config/config.json', path.join(__dirname, 'src/HTMLCS_Run.js'), tempFilename, 'WCAG2AA', priority, output];

		switch(engine){
			case "chrome":
				var childArgs = ['--config=config/config.json', path.join(__dirname, 'src/chrome.js'), tempFilename, output];
				break;
			case "axe":
				var childArgs = ['--config=config/config.json', path.join(__dirname, 'src/axe.js'), tempFilename, output];
				break;
		}		
		fs.writeFile(tempFilename, req.body.source, function (err,data) {
		  if (err) {
		    return error(err);
			res.end();
		  }
		 	childProcess.execFile(binPath, childArgs, function(err, stdout, stderr) {
			 	stdout = stdout.replace('done','');
		    	res.writeHead(200, { 'Content-Type': 'text/plain', "Access-Control-Allow-Origin":"*" });
		    	res.write(stdout);
		    	res.end();
		    	log(stdout);
				fs.unlink(tempFilename);			  
			});
		});
	});	 	
</code></pre></section>
				<section>
					<h1>AATT - Demo</h1>
				</section>		
				
				<section>
					<h1>Contact</h1>
					<h3><a href="http://www.paypal.com/inclusive">PayPal Accessibility </a></h3>
					<h3><a href="https://twitter.com/PayPalinclusive">Follow us on Twitter / @PayPalInclusive </a></h3>
				</section>

			</div> <!-- slider div ends -->

			<footer id="site-footer">
				<div style="float:left;margin-left:50px">Copyright © 1999-2015 PayPal. All rights reserved</div>
			  <div style="float:right;margin-right:150px"><img src="imgs/template/logo_180x26_PPa11y.png" alt="PayPal Accessibility"></div>
			</footer>	

		</div>   <!-- reveal div ends -->

		<script src="reveal.js/lib/js/head.min.js"></script>
		<script src="reveal.js/js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				slideNumber: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
